<!doctype html>
<html lang="it">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Tecnaria QA Bot</title>
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
<style>
:root{--bg:#0b1220;--card:#101a2d;--ink:#e6edf7;--muted:#97a3b6;--accent:#38bdf8;--chip:#1b2740;}
*{box-sizing:border-box}
html,body{margin:0;background:var(--bg);color:var(--ink);font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif}
.wrap{max-width:960px;margin:40px auto;padding:0 20px}
h1{font-size:22px;margin:0 0 12px;font-weight:600}
.card{background:var(--card);border:1px solid #1f2a44;border-radius:14px;padding:20px;box-shadow:0 6px 24px rgba(0,0,0,.25)}
input[type=text]{width:100%;padding:12px 14px;border-radius:10px;border:1px solid #1f2a44;background:#0d1526;color:var(--ink)}
.toolbar{display:flex;gap:8px;margin-top:10px}
button{background:var(--accent);color:#02101c;border:0;border-radius:10px;padding:10px 14px;font-weight:600;cursor:pointer}
button.secondary{background:#1e293b;color:#dbeafe}
#ans > .card{margin-top:16px}
.sources{margin-top:14px;background:#0d1526;border:1px solid #1f2a44;border-radius:10px;padding:12px}
.src-title{font-weight:600;color:#8ab4f8;margin-bottom:6px}
h2{font-size:18px;margin:0 0 6px}
p,li{line-height:1.55;color:#d8e1f2}
ul{margin:10px 0 0 18px}
small.m{color:var(--muted)}
</style>
</head>
<body>
<div class="wrap">
  <div class="card">
    <h1>ðŸ‡®ðŸ‡¹ Tecnaria QA Bot</h1>
    <input id="q" type="text" placeholder='Scrivi una domanda (es. "Differenza CTF e Diapason")'>
    <div class="toolbar">
      <button onclick="ask()">Chiedi</button>
      <button class="secondary" onclick="clearA()">Pulisci</button>
      <button class="secondary" onclick="copyA()">Copia risposta</button>
    </div>
    <div id="ans"></div>
    <div style="margin-top:10px">
      <small class="m">Domini consentiti: tecnaria.com â€¢ spit.eu â€¢ spitpaslode.com</small>
    </div>
  </div>
</div>
<script>
async function ask(){
  const q = document.getElementById('q').value.trim();
  const ans = document.getElementById('ans');
  if(!q){ ans.innerHTML = "<small class='m'>Inserisci una domandaâ€¦</small>"; return; }
  ans.innerHTML = "<small class='m'>Sto preparando la rispostaâ€¦</small>";
  const r = await fetch("/ask?q=" + encodeURIComponent(q));
  const html = await r.text();
  ans.innerHTML = html;
}
function clearA(){
  document.getElementById('q').value = "";
  document.getElementById('ans').innerHTML = "";
}
function copyA(){
  const el = document.getElementById('ans');
  const range = document.createRange();
  range.selectNode(el);
  const sel = window.getSelection();
  sel.removeAllRanges();
  sel.addRange(range);
  try{ document.execCommand('copy'); }catch(e){}
  sel.removeAllRanges();
}
</script>
</body>
</html>
