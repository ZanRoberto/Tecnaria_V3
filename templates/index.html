<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>TecnariaBot</title>
  <link rel="stylesheet" href="/static/img/style.css?v=2025-09-19" />
  <style>
    :root{--tecnaria-orange:#f37021}
    body{font-family:Arial,Helvetica,sans-serif;background:#1e1e1e;color:#fff;margin:0}
    .wrap{max-width:960px;margin:24px auto;padding:20px;background:#2c2c2c;border-radius:14px}
    header{display:flex;align-items:center;gap:14px;margin-bottom:10px}
    header img{height:52px;width:auto;border-radius:6px}
    h1{margin:0;color:var(--tecnaria-orange)}
    .subtitle{margin:0 0 18px 0;color:#ccc}
    label{display:block;margin:12px 0 6px 0;color:var(--tecnaria-orange);font-weight:700}
    textarea,input,select{width:100%;box-sizing:border-box;background:#fff;color:#000;
      border:1px solid var(--tecnaria-orange);border-radius:8px;padding:10px}
    .row{display:grid;grid-template-columns:1fr auto;gap:12px;align-items:end}
    .modes{display:flex;gap:10px;margin:8px 0 0 0}
    .btn{background:var(--tecnaria-orange);color:#fff;border:none;border-radius:8px;padding:10px 14px;
      font-weight:700;cursor:pointer}
    .btn.secondary{background:#444}
    .btn.active{outline:2px solid #fff}
    .wizard{display:none;background:#3a3a3a;padding:12px;border-radius:10px;margin:12px 0}
    .wizard .grid{display:grid;grid-template-columns:repeat(2,1fr);gap:10px}
    .small-note{color:#bbb;font-size:12px;margin-top:6px}
    .answer{background:#3a3a3a;padding:14px;border-radius:10px;white-space:pre-wrap;margin-top:14px}
    @media (max-width:720px){.wizard .grid{grid-template-columns:1fr} .row{grid-template-columns:1fr}}
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <img src="/static/img/logo.jpg" alt="Logo Tecnaria" />
      <div>
        <h1>TecnariaBot</h1>
        <p class="subtitle">Assistente Tecnico • Risposte A/B/C sempre coerenti</p>
      </div>
    </header>

    <!-- Domanda -->
    <label for="question">Domanda</label>
    <textarea id="question" rows="3" placeholder="Es.: Quale altezza di connettore CTF devo usare?"></textarea>

    <!-- Modalità A/B/C -->
    <div class="modes">
      <button class="btn" id="btnA" type="button">A Breve</button>
      <button class="btn" id="btnB" type="button">B Standard</button>
      <button class="btn active" id="btnC" type="button">C Dettagliata</button>
    </div>

    <!-- Mini-wizard dinamico -->
    <div id="wizard-dynamic" class="wizard" data-schema="">
      <div class="grid" id="wizard-fields"><!-- campi generati da wizard.js --></div>
      <div class="small-note">
        I valori qui sopra compilano automaticamente il campo “Dati tecnici richiesti”.
      </div>
    </div>

    <!-- Dati tecnici / context -->
    <label for="context">Dati tecnici richiesti (se la domanda è di calcolo)</label>
    <div class="row">
      <textarea id="context" rows="3" readonly placeholder="Se necessario verrà compilato dal mini-wizard…"></textarea>
      <button id="btnSend" class="btn" type="button">Invia</button>
    </div>

    <!-- Risposta -->
    <div id="answer-box" class="answer"></div>
  </div>

  <!-- Carica JS -->
  <script src="/static/img/wizard.js?v=2025-09-19" defer></script>
</body>
</html>
